================================================================
NotioClass 개발 일지 - 2025년 12월 29일
================================================================

작업 내용: 테마 시스템 및 설정 화면 구현, AI 학년 정보 활용 개선


----------------------------------------------------------------
1. 테마 시스템 구현
----------------------------------------------------------------

ThemeContext.tsx 신규 생성:
  - 4가지 테마: 흰색, 다크모드, 갈색, 살구색
  - 텍스트 색상은 갈색 계열로 고정 (#5D4E37, #8B7355)
  - 배경색/카드색/탭바색만 테마별로 변경
  - AsyncStorage로 테마 설정 저장/복원
  - useTheme 훅으로 전역 접근

적용된 화면:
  - app/(tabs)/index.tsx (홈)
  - app/(tabs)/notes.tsx (보관함)
  - app/(tabs)/upload.tsx (필기 정리)
  - app/(tabs)/practice.tsx (문제 풀기)
  - app/(tabs)/my.tsx (MY)
  - app/(tabs)/_layout.tsx (탭바)
  - app/upgrade.tsx (플랜 업그레이드)
  - app/settings.tsx (설정)


----------------------------------------------------------------
2. 설정 화면 신규 생성
----------------------------------------------------------------

app/settings.tsx:
  - 앱 설정: 테마 선택, 푸시 알림, 언어
  - 필기 정리 설정: 학년 정보 수정
  - 플랜 관리: 현재 플랜, 사용량 내역, 결제 정보
  - 기타: 도움말, 피드백, 이용약관, 개인정보 처리방침, 앱 버전

MY 탭 변경:
  - 헤더 오른쪽에 설정 버튼 추가
  - 설정 메뉴들을 설정 화면으로 이동
  - 프로필/사용량/업그레이드/로그아웃만 남김


----------------------------------------------------------------
3. AI 파이프라인 학년 정보 활용 개선
----------------------------------------------------------------

1단계 구조 분석에 학년 정보 추가:
  - school_level, grade, curriculum_context 파라미터 추가
  - 프롬프트에 학습자 정보 포함:
    "[학습자 정보]
     중학교 2학년 학생의 필기입니다.
     이 학년에서 배우는 주요 단원을 참고하여 과목을 정확히 감지하세요."

새로운 출력 필드 추가:
  - detected_unit: 감지된 단원명 (예: 일차함수, 고려시대)

반환값 확장:
  {
    "content": 정리된 노트,
    "detected_subject": 감지된 과목,
    "detected_note_type": 감지된 노트 타입,
    "detected_unit": 감지된 단원명  <- 새로 추가
  }


----------------------------------------------------------------
4. 추가 패키지
----------------------------------------------------------------

@react-native-async-storage/async-storage:
  - 테마 설정 저장용
  - npm install로 추가


----------------------------------------------------------------
커밋 내역
----------------------------------------------------------------

678b5e1 feat: 테마 시스템 및 설정 화면 구현
  - ThemeContext 추가 (4가지 테마)
  - 모든 탭 화면에 동적 테마 적용
  - 설정 화면 신규 생성
  - MY 탭에 설정 버튼 추가
  - 플랜 업그레이드 화면 테마 적용


================================================================
