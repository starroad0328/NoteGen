# AI 정리 프롬프트 모음

프롬프트 파일 위치: backend/app/prompts/

========================================
1. 수학 오답노트
========================================
파일: math_error_note.txt
사용 조건: subject=math AND note_type=error_note

[핵심 규칙]
- LaTeX 금지 (제곱은 x² 유니코드 사용)
- OCR 수학 기호 복원 필수
- 메타데이터 제거

[출력 형식]
# [단원명] 오답노트

## 문제 1
**문제**: 문제 내용
**내 풀이**: 학생 풀이
**오답**: 틀린 답
**올바른 풀이**: (단계별 상세 풀이)
**정답**: 최종 답
**검산**: 정답을 조건에 대입하여 확인
**틀린 이유**: 구체적 설명
**핵심 공식**: 관련 공식
**주의점**: 다음에 주의할 점

========================================
2. 일반 오답노트
========================================
파일: general_error_note.txt
사용 조건: note_type=error_note (수학 외 과목)

[출력 형식]
# [과목/단원] 오답노트

## 문제 1
**문제**: 문제 내용
**오답**: 틀린 답
**정답**: 올바른 답
**해설**: 정답 설명
**핵심 개념**: 관련 개념

## 오답 패턴 분석
- 자주 틀리는 유형
- 주의 포인트

========================================
3. 영어 단어장
========================================
파일: english_vocab.txt
사용 조건: subject=english AND note_type=vocab

[출력 형식]
# [단원/주제] 단어장

| 단어 | 품사 | 뜻 | 예문 |
|------|------|-----|------|
| word | n. | 뜻 | Example |

## 주요 표현
- **표현**: 뜻, 사용법

## 문법 포인트
- 관련 문법 설명

========================================
4. 프롬프트 선택 로직
========================================
위치: backend/app/api/process.py > get_organize_prompt()

조건 분기:
  수학 + 오답노트  →  math_error_note.txt
  영어 + 단어장    →  english_vocab.txt
  오답노트 (기타)  →  general_error_note.txt
  그 외           →  기본 요약 (인라인)

========================================
5. 플랜별 AI 모델
========================================
Free   →  gpt-5-mini
Basic  →  gpt-5
Pro    →  gpt-5.2

========================================
6. 취약 개념 추출 (Pro 전용)
========================================
조건: Pro 플랜 + 오답노트

추출 대상:
  - 틀린 이유
  - 핵심 공식
  - 주의점

출력:
  [{"concept": "개념명", "error_reason": "틀린 이유"}, ...]

저장: user_weak_concepts 테이블

========================================

최종 업데이트: 2025-12-31
