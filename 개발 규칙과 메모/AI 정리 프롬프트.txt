# AI 정리 프롬프트 모음

프롬프트 위치: backend/app/services/ai_service.py

========================================
1. 기본 요약 정리
========================================
사용 조건: method=basic_summary

[필수 규칙]
- 블록ID, 좌표 등 메타데이터 출력 금지
- [bX], (y:XX) 형식 절대 출력 금지
- 깔끔한 마크다운으로만 출력
- 원본 내용 기반으로 정리

[그룹핑 규칙]
- 관련된 내용은 같은 섹션으로 묶기
- 세부 개념은 상위 주제 아래 하위 항목으로 배치
- 시대/국가/주제가 같으면 하나의 섹션으로 통합
- 필기 순서보다 논리적 연결을 우선

[출력 형식]
# 제목

## 소제목1
- 핵심 내용
- 세부 내용

## 소제목2
- 핵심 내용

========================================
2. 코넬식 정리
========================================
사용 조건: method=cornell

[출력 형식 - JSON]
```json
{
  "title": "제목 (내용 기반 자동 생성)",
  "cues": [
    "키워드1",
    "키워드2",
    "핵심용어"
  ],
  "main": [
    {"type": "heading", "level": 2, "content": "소제목"},
    {"type": "paragraph", "content": "설명 텍스트"},
    {"type": "bullet", "items": ["항목1", "항목2", "항목3"]},
    {"type": "important", "content": "중요 개념 강조"},
    {"type": "example", "content": "예시 내용"}
  ],
  "summary": "전체 내용을 1-2문장으로 압축한 요약"
}
```

[main 배열 타입]
- heading: 소제목 (level: 2 또는 3)
- paragraph: 일반 텍스트 설명
- bullet: 글머리표 목록 (items 배열)
- important: 중요 개념 (강조 표시용)
- example: 예시 (별도 스타일 적용용)

[규칙]
- cues는 암기용 핵심 키워드/용어만 (5-10개)
- 문장이나 질문 형태 X, 단어/용어 형태로만
- main은 논리적 순서로 구성
- 마크다운 문법 사용하지 말 것 (JSON 구조로 표현)

========================================
3. 영어 단어장
========================================
파일: backend/app/prompts/english_vocab.txt
사용 조건: method=vocab

[출력 형식]
# [단원/주제] 단어장

| 단어 | 품사 | 뜻 | 예문 |
|------|------|-----|------|
| word | n. | 뜻 | Example |

## 주요 표현
- **표현**: 뜻, 사용법

## 문법 포인트
- 관련 문법 설명

========================================
4. 프롬프트 선택 로직
========================================
위치: backend/app/services/ai_service.py > _get_prompt_for_note_type()

조건 분기:
  단어장 (vocab)      →  english_vocab.txt
  기본 요약           →  인라인 프롬프트
  코넬식             →  인라인 프롬프트 (JSON)

========================================
5. 플랜별 AI 모델
========================================
** GPT-5가 최신 모델 (2025년 기준) **

Free   →  gpt-5-mini
Basic  →  gpt-5
Pro    →  gpt-5.2

========================================
[V2 예정] 오답노트
========================================
- 수학 오답노트: math_error_note.txt
- 일반 오답노트: general_error_note.txt

========================================
[V2 예정] 취약 개념 시스템
========================================
방식: 필기 기반 문제 생성 → 사용자 풀이 → 틀리면 취약 개념 저장

흐름:
  1. 필기 정리 완료
  2. AI가 필기 내용 기반 문제 생성
  3. 사용자가 문제 풀이
  4. 틀린 문제 → 해당 개념을 취약 개념으로 저장
  5. 취약 개념 기반 복습 문제 추천

========================================

최종 업데이트: 2026-01-04
