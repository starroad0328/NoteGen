═══════════════════════════════════════════════════════════════
                    NoteGen 개발 일지
═══════════════════════════════════════════════════════════════

※ 상세 개발 일지는 "개발 일지/" 폴더 참조
   → 개발 일지/2025년 12월/2025-12-25_코넬노트_UI.txt
   → 개발 일지/2025년 12월/2025-12-24_오답노트_GoogleVision.txt


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-25 (수)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: 코넬식 노트 UI 개선 (줌 캔버스)

작업 내용:
  1. 코넬식 노트 레이아웃 전면 개편
     - 큰 종이(도화지) 형태의 캔버스
     - 핀치 줌으로 확대/축소 가능
     - @openspacelabs/react-native-zoomable-view 사용

  2. 코넬 노트 형식 파싱
     - 새 형식: ===TITLE/KEYWORDS/NOTES/SUMMARY=== 마커
     - 기존 형식 호환 (헤딩에서 키워드 추출)

  3. 종이 스타일 UI
     - 줄 노트 라인, 왼쪽 빨간 여백선
     - 키워드/노트/요약 영역 구분

다음 작업:
  - 코넬 노트 파싱 개선
  - 월간 사용량 제한 (10회/월)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-23 (월)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: 과학 성취기준 추가 + AI 그룹핑 개선 + MVP 분석

작업 내용:
  1. 과학 성취기준 45개 추가
     - 운동과 에너지 (중1~3)
     - 물질 (중1~3)
     - 생명 (중1~3)
     - 지구와 우주 (중1~3)
     - 전 과목 성취기준 완료 (총 240개)

  2. AI 프롬프트 그룹핑 개선
     - 관련 내용 같은 섹션으로 묶기
     - 예: "3성 6부" → "발해" 섹션에 포함
     - 시대/국가/주제 기반 논리적 그룹핑

  3. MVP 문서 분석 및 개발 목표 수립
     - 8개 MVP 문서 검토
     - 스토어 출시 요건 정리
     - 우선순위별 작업 목록 작성

  4. main 브랜치 머지
     - feature/auth-required-profile → main

커밋:
  - e37855b feat: 과학 성취기준 추가 및 AI 그룹핑 개선

다음 작업:
  - 월간 사용량 제한 (10회/월)
  - 앱 스토어 에셋 준비


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-21 (일) 저녁
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: 노트 상세 화면 UI 개선

작업 내용:
  1. 노트 상세 화면 UI 전면 개편
     - 기존: 단순 마크다운 렌더링 (세로 스크롤)
     - 변경: 섹션별 카드 레이아웃
     - 마크다운을 #, ## 헤딩 기준으로 파싱
     - 각 섹션을 독립적인 카드로 표시

  2. 섹션 타입별 스타일링
     - 키워드 기반 자동 분류
     - 핵심(🔑 빨강), 요약(📌 주황), 개념(💡 파랑)
     - 설명(📝 초록), 예시(✏️ 보라), 시험(🎯 오렌지)
     - 왼쪽 컬러 바로 시각적 구분

  3. 목차 드로어 구현
     - 상단 ☰ 버튼 또는 힌트 바 탭으로 열기
     - 목차 항목 탭 → 해당 섹션으로 스크롤
     - 오버레이 탭으로 닫기

  4. 백엔드 API 업데이트
     - NoteResponse에 image_urls 필드 추가
     - get_image_urls() 헬퍼 함수 구현
     - 정적 파일 서빙 (/uploads)

  5. 탭 네비게이션 구조 정리
     - (tabs) 폴더로 통합
     - 기존 중복 파일 삭제 (index.tsx, upload.tsx 등)

시도했다가 버린 것:
  - 탭 기반 UI (핵심/설명/시험/원본)
    → 섹션 분류가 자연스럽지 않아서 폐기
  - 핀치 줌 기능 (react-native-zoomable-view)
    → 카드 레이아웃과 맞지 않아서 제거
  - 스와이프로 목차 열기 (PanResponder)
    → ScrollView와 충돌해서 버튼 방식으로 변경

커밋:
  - a487a4b chore: 테스트용 필기 사진 추가
  - 615d9bf refactor: 탭 네비게이션 구조 정리 및 정적 파일 서빙
  - 8c95d23 feat: 노트 상세 화면 UI 개선 (섹션 카드 + 목차 드로어)

다음 작업:
  - 나머지 과목 성취기준 추가 (국어, 영어, 사회, 과학)
  - 성취기준 매핑 파이프라인


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-21 (일) 새벽
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: 교육과정 DB 구축

작업 내용:
  1. 교육과정 DB 스키마 설계
     - Subject (과목): 수학, 국어, 영어 등
     - Domain (영역): 수와 연산, 문자와 식 등
     - AchievementStandard (성취기준): 코드 + 내용

  2. 중학교 수학 성취기준 61개 입력
     - 중1: 수와 연산, 문자와 식, 좌표평면과 그래프, 기본 도형, 평면도형, 입체도형, 통계
     - 중2: 수와 식, 부등식과 연립방정식, 일차함수, 삼각형과 사각형의 성질, 도형의 닮음, 확률
     - 중3: 제곱근, 다항식의 곱셈과 인수분해, 이차방정식, 이차함수, 삼각비, 원, 통계

  3. 교육과정 API 구현
     - GET /api/curriculum/subjects
     - GET /api/curriculum/subjects/{subject_id}/domains
     - GET /api/curriculum/standards

커밋:
  - 7965db9 feat: 교육과정 DB 스키마 및 중학교 수학 성취기준 추가


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-20 (토)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: 로그인/회원가입 + 학년별 교육과정

작업 내용:
  1. JWT 인증 시스템 구현
     - bcrypt 비밀번호 해싱
     - JWT 토큰 발급/검증
     - expo-secure-store로 토큰 저장

  2. 회원가입 화면
     - 이메일, 비밀번호, 이름
     - 학교급 선택 (중학교/고등학교)
     - 학년 선택 (1~3학년)

  3. 프로필 화면
     - 사용자 정보 표시
     - 학년 정보 수정 가능

커밋:
  - 5dab408 feat: 로그인/회원가입 + 학년별 교육과정 기능 추가


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 2025-12-19 (금)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

주제: OCR 정제 LLM 추가

작업 내용:
  1. 3단계 AI 파이프라인 확립
     - 0단계: OCR 정제 (GPT-5 nano)
     - 1단계: 구조 파악 (GPT-5 mini)
     - 2단계: 정리 생성 (GPT-5 mini)

  2. 블록 메타데이터 출력 제거
     - [bX] (y:XX) 형식이 결과에 나오던 문제 해결

  3. AI 단계별 진행 상태 표시
     - progress_message 필드 추가
     - [1/3], [2/3], [3/3] 형식

커밋:
  - c60e514 feat: OCR 정제 LLM 단계 추가 및 정리 품질 개선


═══════════════════════════════════════════════════════════════
